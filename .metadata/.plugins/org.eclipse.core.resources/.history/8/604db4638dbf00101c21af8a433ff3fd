import java.util.concurrent.CompletableFuture;

public class AsyncApiExample {
    public static void main(String[] args) throws Exception {

        System.out.println("Starting API calls...");
        
        System.out.println();

        // Simulate three API calls running at the same time
        CompletableFuture<String> priceApi = CompletableFuture.supplyAsync(() -> {
            sleep(1500); // Simulate delay
            return "Price: â‚¹55,000";
        });

        CompletableFuture<String> stockApi = CompletableFuture.supplyAsync(() -> {
            sleep(1000);
            return "Stock: 12 units";
        });

        CompletableFuture<String> reviewApi = CompletableFuture.supplyAsync(() -> {
            sleep(2000);
            return "Reviews: 4.2 stars";
        });

        // Wait until all three tasks are done
        CompletableFuture.allOf(priceApi, stockApi, reviewApi).join();

        // Print results
        System.out.println("All API calls completed:\n");
        System.out.println(priceApi.get());
        System.out.println(stockApi.get());
        System.out.println(reviewApi.get());
    }

    // Helper method to pause the thread
    private static void sleep(long ms) {
        try {
            Thread.sleep(ms);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
